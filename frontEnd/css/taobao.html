<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="yes" name="apple-touch-fullscreen">
    <meta content="telephone=no,email=no" name="format-detection">
    <title>Document</title>
    <script src="./lib-flexlib.js"></script>
</head>
<style>
    * {
        box-sizing: border-box;
        margin: 0;
    }
    
    .tltle {
        font-size: 12px;
    }
    
    [data-dpr="2"] .tltle {
        font-size: 24px;
    }
    
    [data-dpr="3"] .tltle {
        font-size: 36px;
    }
    
    body {
        /* max-width: 540px;
        min-width: 320px;
        margin-left: auto;
        margin-right: auto; */
        /* background-color: #dfdfdf; */
    }
    
    .layout-content {
        display: flex;
        flex-flow: wrap;
    }
    
    .layout-content .flex-item {
        /* flex: 1; */
        justify-content: center;
        border-right: 1px solid red;
        border-bottom: 0.013333333333333334rem solid red;
        height: 3.3333rem;
        width: 3.3333rem;
    }
    
    @media only screen and (-webkit-min-device-pixel-ratio: 2.0) {
        .border-bottom::after {
            -webkit-transform: scaleY(0.5);
            transform: scaleY(0.5);
        }
    }
    /* 3倍屏 */
    
    @media only screen and (-webkit-min-device-pixel-ratio: 3.0) {
        .border-bottom::after {
            -webkit-transform: scaleY(0.33);
            transform: scaleY(0.33);
        }
    }
    
    .border {
        border: 1px solid #999
    }
    
    @media screen and (-webkit-min-device-pixel-ratio: 2) {
        .border {
            border: 0.5px solid #999
        }
    }
    
    @media screen and (-webkit-min-device-pixel-ratio: 3) {
        .border {
            border: 0.333333px solid #999
        }
    }
    /* .borderScale {
        height: 1px;
        background: #000;
        -webkit-transform: scaleY(0.5);
        -webkit-transform-origin: 0 0;
        overflow: hidden;
    } */
    
    .borderScale::after {
        content: '';
        /* width: 200%;
        height: 200%; */
        position: absolute;
        top: 0;
        left: 0;
        border: 1px solid #bfbfbf;
        border-radius: 4px;
        -webkit-transform: scale(0.5, 0.5);
        transform: scale(0.5, 0.5);
        -webkit-transform-origin: top left;
    }
    
    html,
    body {
        margin: 0;
        padding: 0;
    }
    
    html {
        /* 某些机型虽然设备dpr大于1，但识别不了scale缩放，这里需要重新设置最小宽度防止出现横向滚动条 */
    }
    
    html body {
        margin-right: auto;
        margin-left: auto;
        min-width: 320px;
    }
    
    @media (-webkit-device-pixel-ratio: 2) {
        html body {
            min-width: 640px;
        }
    }
    
    @media (-webkit-device-pixel-ratio: 3) {
        html body {
            min-width: 960px;
        }
    }
    
    html body[data-content-max] {
        margin-right: auto;
        margin-left: auto;
        max-width: 720px;
    }
    
    @media (-webkit-device-pixel-ratio: 2) {
        html body[data-content-max] {
            max-width: 1440px;
        }
    }
    
    @media (-webkit-device-pixel-ratio: 3) {
        html body[data-content-max] {
            max-width: 2160px;
        }
    }
    
    html[data-dpr="1"] body {
        min-width: 320px;
    }
</style>

<body data-content-max>
    <div class="layout">
        <div class="layout-title"> 布局</div>
        <div class="layout-content">
            <div class="flex-item"></div>
            <div class="flex-item"></div>
            <div class="flex-item"></div>
            <div class="flex-item"></div>
            <div class="flex-item"></div>
            <div class="flex-item"></div>
            <div class="flex-item"></div>
            <div class="flex-item borderScale"></div>
            <!-- <div class="flex-item"></div>
                <div class="flex-item"></div>
                <div class="flex-item"></div> -->
        </div>
    </div>


    <!--  -->


</body>

</html>